<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>io.pedestal.http.impl.servlet-interceptor documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Pedestal.service</span> <span class="project-version">0.5.7</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pedestal</span></div></div></li><li class="depth-3"><a href="io.pedestal.http.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.body-params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>body-params</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.container.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>container</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.content-negotiation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>content-negotiation</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.cors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cors</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.csrf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>csrf</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>impl</span></div></div></li><li class="depth-5 current"><a href="io.pedestal.http.impl.servlet-interceptor.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>servlet-interceptor</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.params.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-4"><a href="io.pedestal.http.request.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>request</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.request.lazy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lazy</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.request.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.request.servlet-support.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>servlet-support</span></div></a></li><li class="depth-5"><a href="io.pedestal.http.request.zerocopy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>zerocopy</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.ring-middlewares.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>ring-middlewares</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.secure-headers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>secure-headers</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.servlet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>servlet</span></div></a></li><li class="depth-4"><a href="io.pedestal.http.sse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sse</span></div></a></li><li class="depth-3"><a href="io.pedestal.test.html"><div class="inner"><span class="tree" style="top: -548px;"><span class="top" style="height: 557px;"></span><span class="bottom"></span></span><span>test</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.pedestal.http.impl.servlet-interceptor.html#var-exception-debug"><div class="inner"><span>exception-debug</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.impl.servlet-interceptor.html#var-http-interceptor-service-fn"><div class="inner"><span>http-interceptor-service-fn</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.impl.servlet-interceptor.html#var-ring-response"><div class="inner"><span>ring-response</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.impl.servlet-interceptor.html#var-set-response"><div class="inner"><span>set-response</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.impl.servlet-interceptor.html#var-stylobate"><div class="inner"><span>stylobate</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.impl.servlet-interceptor.html#var-terminator-injector"><div class="inner"><span>terminator-injector</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.impl.servlet-interceptor.html#var-WriteableBody"><div class="inner"><span>WriteableBody</span></div></a></li><li class="depth-2 branch"><a href="io.pedestal.http.impl.servlet-interceptor.html#var-default-content-type"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>default-content-type</span></div></a></li><li class="depth-2"><a href="io.pedestal.http.impl.servlet-interceptor.html#var-write-body-to-stream"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>write-body-to-stream</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.impl.servlet-interceptor.html#var-WriteableBodyAsync"><div class="inner"><span>WriteableBodyAsync</span></div></a></li><li class="depth-2"><a href="io.pedestal.http.impl.servlet-interceptor.html#var-write-body-async"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>write-body-async</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.pedestal.http.impl.servlet-interceptor</h1><div class="doc"><pre class="plaintext">Interceptors for adapting the Java HTTP Servlet interfaces.
</pre></div><div class="public anchor" id="var-exception-debug"><h3>exception-debug</h3><div class="usage"></div><div class="doc"><pre class="plaintext">An interceptor which catches errors, renders them to readable text
and sends them to the user. This interceptor is intended for
development time assistance in debugging problems in pedestal
services. Including it in interceptor paths on production systems
may present a security risk by exposing call stacks of the
application when exceptions are encountered.</pre></div></div><div class="public anchor" id="var-http-interceptor-service-fn"><h3>http-interceptor-service-fn</h3><div class="usage"><code>(http-interceptor-service-fn interceptors)</code><code>(http-interceptor-service-fn interceptors default-context)</code></div><div class="doc"><pre class="plaintext">Returns a function which can be used as an implementation of the
Servlet.service method. It executes the interceptors on an initial
context map containing :servlet, :servlet-config, :servlet-request,
and :servlet-response. The terminator-injector, stylobate,
and ring-response are prepended to the sequence of interceptors.</pre></div></div><div class="public anchor" id="var-ring-response"><h3>ring-response</h3><div class="usage"></div><div class="doc"><pre class="plaintext">An interceptor which transmits a Ring specified response map to an
HTTP response.

If a later interceptor in this context throws an exception which is
not caught, this interceptor will set the HTTP response status code
to 500 with a generic error message. Also, if later interceptors
fail to furnish the context with a :response map, this interceptor
will set the HTTP response to a 500 error.</pre></div></div><div class="public anchor" id="var-set-response"><h3>set-response</h3><div class="usage"><code>(set-response servlet-resp resp-map)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-stylobate"><h3>stylobate</h3><div class="usage"></div><div class="doc"><pre class="plaintext">An interceptor which creates favorable pre-conditions for further
io.pedestal.interceptors, and handles all post-conditions for
processing an interceptor chain. It expects a context map
with :servlet-request, :servlet-response, and :servlet keys.

After entering this interceptor, the context will contain a new
key :request, the value will be a request map adhering to the Ring
specification[1].

This interceptor supports asynchronous responses as defined in the
Java Servlet Specification[2] version 3.0. On leaving this
interceptor, if the servlet request has been set asynchronous, all
asynchronous resources will be closed. Pausing this interceptor will
inform the servlet container that the response will be delivered
asynchronously.

If a later interceptor in this context throws an exception which is
not caught, this interceptor will log the error but not communicate
any details to the client.

[1]: <a href="https://github.com/ring-clojure/ring/blob/master/SPEC">https://github.com/ring-clojure/ring/blob/master/SPEC</a>
[2]: <a href="http://jcp.org/aboutJava/communityprocess/final/jsr315/index.html">http://jcp.org/aboutJava/communityprocess/final/jsr315/index.html</a></pre></div></div><div class="public anchor" id="var-terminator-injector"><h3>terminator-injector</h3><div class="usage"></div><div class="doc"><pre class="plaintext">An interceptor which causes a interceptor to terminate when one of
the interceptors produces a response, as defined by
ring.util.response/response?</pre></div></div><div class="public anchor" id="var-WriteableBody"><h3>WriteableBody</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-default-content-type"><h3>default-content-type</h3><div class="usage"><code>(default-content-type body)</code></div><div class="doc"><pre class="plaintext">Get default HTTP content-type for `body`.
</pre></div></div><div class="public anchor" id="var-write-body-to-stream"><h3>write-body-to-stream</h3><div class="usage"><code>(write-body-to-stream body output-stream)</code></div><div class="doc"><pre class="plaintext">Write `body` to the stream output-stream.
</pre></div></div></div></div></div><div class="public anchor" id="var-WriteableBodyAsync"><h3>WriteableBodyAsync</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-write-body-async"><h3>write-body-async</h3><div class="usage"><code>(write-body-async body servlet-response resume-chan context)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div></div></div></body></html>