<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>io.pedestal.log documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">io.pedestal libraries</span> <span class="project-version">0.8.0-alpha-5</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pedestal</span></div></div></li><li class="depth-3"><a href="io.pedestal.connector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>connector</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.connector.dev.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dev</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.connector.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-4"><a href="io.pedestal.connector.test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>test</span></div></a></li><li class="depth-3 branch"><a href="io.pedestal.environment.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>environment</span></div></a></li><li class="depth-3"><a href="io.pedestal.http.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.body-params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>body-params</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.container.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>container</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.content-negotiation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>content-negotiation</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.cors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cors</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.csrf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>csrf</span></div></a></li><li class="depth-4"><a href="io.pedestal.http.http-kit.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http-kit</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.http-kit.response.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>response</span></div></a></li><li class="depth-5"><a href="io.pedestal.http.http-kit.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>impl</span></div></div></li><li class="depth-5"><a href="io.pedestal.http.impl.servlet-interceptor.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>servlet-interceptor</span></div></a></li><li class="depth-6"><a href="io.pedestal.http.impl.servlet-interceptor.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-4"><a href="io.pedestal.http.jetty.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>jetty</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.jetty.container.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>container</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.jetty.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-5"><a href="io.pedestal.http.jetty.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.params.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>request</span></div></div></li><li class="depth-5"><a href="io.pedestal.http.request.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.response.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>response</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.ring-middlewares.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ring-middlewares</span></div></a></li><li class="depth-4"><a href="io.pedestal.http.route.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>route</span></div></a></li><li class="depth-5"><a href="io.pedestal.http.route.definition.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>definition</span></div></a></li><li class="depth-6 branch"><a href="io.pedestal.http.route.definition.table.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>table</span></div></a></li><li class="depth-6 branch"><a href="io.pedestal.http.route.definition.terse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>terse</span></div></a></li><li class="depth-6"><a href="io.pedestal.http.route.definition.verbose.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>verbose</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.route.linear-search.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>linear-search</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.route.map-tree.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map-tree</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.route.path.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>path</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.route.prefix-tree.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>prefix-tree</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.route.sawtooth.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sawtooth</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.route.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-5"><a href="io.pedestal.http.route.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.secure-headers.html"><div class="inner"><span class="tree" style="top: -362px;"><span class="top" style="height: 371px;"></span><span class="bottom"></span></span><span>secure-headers</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.servlet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>servlet</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.sse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sse</span></div></a></li><li class="depth-4"><a href="io.pedestal.http.tracing.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tracing</span></div></a></li><li class="depth-3"><a href="io.pedestal.interceptor.html"><div class="inner"><span class="tree" style="top: -1168px;"><span class="top" style="height: 1177px;"></span><span class="bottom"></span></span><span>interceptor</span></div></a></li><li class="depth-4"><a href="io.pedestal.interceptor.chain.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chain</span></div></a></li><li class="depth-5"><a href="io.pedestal.interceptor.chain.debug.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>debug</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.interceptor.component.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>component</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.interceptor.error.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>error</span></div></a></li><li class="depth-4"><a href="io.pedestal.interceptor.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-3 branch current"><a href="io.pedestal.log.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>log</span></div></a></li><li class="depth-3"><a href="io.pedestal.metrics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metrics</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.metrics.otel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>otel</span></div></a></li><li class="depth-4"><a href="io.pedestal.metrics.spi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spi</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>service</span></div></div></li><li class="depth-4 branch"><a href="io.pedestal.service.data.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.service.interceptors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interceptors</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.service.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.service.resources.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>resources</span></div></a></li><li class="depth-4"><a href="io.pedestal.service.websocket.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>websocket</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>telemetry</span></div></div></li><li class="depth-4"><a href="io.pedestal.telemetry.otel-global-init.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>otel-global-init</span></div></a></li><li class="depth-3 branch"><a href="io.pedestal.test.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>test</span></div></a></li><li class="depth-3"><a href="io.pedestal.tracing.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tracing</span></div></a></li><li class="depth-4"><a href="io.pedestal.tracing.spi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spi</span></div></a></li><li class="depth-3"><a href="io.pedestal.websocket.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>websocket</span></div></a></li><li class="depth-4"><a href="io.pedestal.websocket.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.pedestal.log.html#var-*mdc-context*"><div class="inner"><span>*mdc-context*</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-debug"><div class="inner"><span>debug</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-default-formatter"><div class="inner"><span>default-formatter</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-error"><div class="inner"><span>error</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-info"><div class="inner"><span>info</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-log-level-dispatch"><div class="inner"><span>log-level-dispatch</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-LoggerSource"><div class="inner"><span>LoggerSource</span></div></a></li><li class="depth-2 branch"><a href="io.pedestal.log.html#var--debug"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-debug</span></div></a></li><li class="depth-2 branch"><a href="io.pedestal.log.html#var--error"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-error</span></div></a></li><li class="depth-2 branch"><a href="io.pedestal.log.html#var--info"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-info</span></div></a></li><li class="depth-2 branch"><a href="io.pedestal.log.html#var--level-enabled.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-level-enabled?</span></div></a></li><li class="depth-2 branch"><a href="io.pedestal.log.html#var--trace"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-trace</span></div></a></li><li class="depth-2"><a href="io.pedestal.log.html#var--warn"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-warn</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-LoggingMDC"><div class="inner"><span>LoggingMDC</span></div></a></li><li class="depth-2 branch"><a href="io.pedestal.log.html#var--clear-mdc"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-clear-mdc</span></div></a></li><li class="depth-2 branch"><a href="io.pedestal.log.html#var--get-mdc"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-get-mdc</span></div></a></li><li class="depth-2 branch"><a href="io.pedestal.log.html#var--put-mdc"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-put-mdc</span></div></a></li><li class="depth-2 branch"><a href="io.pedestal.log.html#var--remove-mdc"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-remove-mdc</span></div></a></li><li class="depth-2"><a href="io.pedestal.log.html#var--set-mdc"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-set-mdc</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-make-logger"><div class="inner"><span>make-logger</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-maybe-init-java-util-log"><div class="inner"><span>maybe-init-java-util-log</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-mdc-context-key"><div class="inner"><span>mdc-context-key</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-override-logger"><div class="inner"><span>override-logger</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-spy"><div class="inner"><span>spy</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-trace"><div class="inner"><span>trace</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-warn"><div class="inner"><span>warn</span></div></a></li><li class="depth-1"><a href="io.pedestal.log.html#var-with-context"><div class="inner"><span>with-context</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.pedestal.log</h1><div class="doc"><div class="markdown"><p>A logging wrapper around SLF4J (but adaptable to other logging systems). Primary macros are <a href="io.pedestal.log.html#var-trace">trace</a>, <a href="io.pedestal.log.html#var-debug">debug</a>, <a href="io.pedestal.log.html#var-info">info</a>, <a href="io.pedestal.log.html#var-warn">warn</a>, and <a href="io.pedestal.log.html#var-error">error</a>.</p>
</div></div><div class="public anchor" id="var-*mdc-context*"><h3>*mdc-context*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>This map is copied into the SLF4J MDC by the <code>with-context</code> macro.</p>
<p>You are free to take control of it for MDC-related purposes as it doesn’t directly affect Pedestal’s logging implementation.</p>
<p>This map also includes all options that were passed into <code>with-context</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L300">view source</a></div></div><div class="public anchor" id="var-debug"><h3>debug</h3><h4 class="type">macro</h4><div class="usage"><code>(debug &amp; keyvals)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L259">view source</a></div></div><div class="public anchor" id="var-default-formatter"><h3>default-formatter</h3><h4 class="added">added in 0.7.0</h4><div class="usage"><code>(default-formatter)</code></div><div class="doc"><div class="markdown"><p>Returns the default formatter (used to convert the event map to a string) used when the :io.pedestal.log/formatter key is not present in the log event.  The default is <code>pr-str</code>, but can be overridden via JVM property io.pedestal.log.formatter or environment variable <code>PEDESTAL_LOG_FORMATTER</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L211">view source</a></div></div><div class="public anchor" id="var-error"><h3>error</h3><h4 class="type">macro</h4><div class="usage"><code>(error &amp; keyvals)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L265">view source</a></div></div><div class="public anchor" id="var-info"><h3>info</h3><h4 class="type">macro</h4><div class="usage"><code>(info &amp; keyvals)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L261">view source</a></div></div><div class="public anchor" id="var-log-level-dispatch"><h3>log-level-dispatch</h3><h4 class="deprecated">deprecated in 0.7.0</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Used internally by the logging macros to map from a level keyword to a protocol method on <a href="io.pedestal.log.html#var-LoggerSource">LoggerSource</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L220">view source</a></div></div><div class="public anchor" id="var-LoggerSource"><h3>LoggerSource</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Adapts an underlying logger (such as defined by SLF4J) to io.pedestal.log.</p>
<p>For -trace, -debug, etc., the body will typically be a String, formatted from the event map; if you write code that directly invokes these methods, but use the io.pedestal.log implementation of LoggerSource for SLF4J, then Strings will pass through unchanged, but other Clojure types will be converted to strings via <code>pr-str</code>.</p>
<p>If you write your own LoggerSource, you understand the same requirements: io.pedestal.log’s macros will only supply a String body, but other code may pass other types.</p>
</div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var--debug"><h3>-debug</h3><div class="usage"><code>(-debug t body)</code><code>(-debug t body throwable)</code></div><div class="doc"><div class="markdown"><p>Log a DEBUG message, and optionally handle a special Throwable/Exception related to the message. The body may be any of Clojure’s literal data types, but a map or string is encouraged.</p>
</div></div></div><div class="public anchor" id="var--error"><h3>-error</h3><div class="usage"><code>(-error t body)</code><code>(-error t body throwable)</code></div><div class="doc"><div class="markdown"><p>Log an ERROR message, and optionally handle a special Throwable/Exception related to the message. The body may be any of Clojure’s literal data types, but a map or string is encouraged.</p>
</div></div></div><div class="public anchor" id="var--info"><h3>-info</h3><div class="usage"><code>(-info t body)</code><code>(-info t body throwable)</code></div><div class="doc"><div class="markdown"><p>Log an INFO message, and optionally handle a special Throwable/Exception related to the message. The body may be any of Clojure’s literal data types, but a map or string is encouraged.</p>
</div></div></div><div class="public anchor" id="var--level-enabled.3F"><h3>-level-enabled?</h3><div class="usage"><code>(-level-enabled? t level-key)</code></div><div class="doc"><div class="markdown"><p>Given the log level as a keyword, return a boolean if that log level is currently enabled.</p>
</div></div></div><div class="public anchor" id="var--trace"><h3>-trace</h3><div class="usage"><code>(-trace t body)</code><code>(-trace t body throwable)</code></div><div class="doc"><div class="markdown"><p>Log a TRACE message, and optionally handle a special Throwable/Exception related to the message. The body may be any of Clojure’s literal data types, but a map or string is encouraged.</p>
</div></div></div><div class="public anchor" id="var--warn"><h3>-warn</h3><div class="usage"><code>(-warn t body)</code><code>(-warn t body throwable)</code></div><div class="doc"><div class="markdown"><p>Log a WARN message, and optionally handle a special Throwable/Exception related to the message. The body may be any of Clojure’s literal data types, but a map or string is encouraged.</p>
</div></div></div></div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L24">view source</a></div></div><div class="public anchor" id="var-LoggingMDC"><h3>LoggingMDC</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var--clear-mdc"><h3>-clear-mdc</h3><div class="usage"><code>(-clear-mdc t)</code></div><div class="doc"><div class="markdown"><p>Remove all entries within the MDC and return the MDC instance.</p>
</div></div></div><div class="public anchor" id="var--get-mdc"><h3>-get-mdc</h3><div class="usage"><code>(-get-mdc t k)</code><code>(-get-mdc t k not-found)</code></div><div class="doc"><div class="markdown"><p>Given a String key and optionally a <code>not-found</code> value (which should be a String), lookup the key in the MDC and return the value (A String); Returns nil if the key isn’t present, or <code>not-found</code> if value was supplied.</p>
</div></div></div><div class="public anchor" id="var--put-mdc"><h3>-put-mdc</h3><div class="usage"><code>(-put-mdc t k v)</code></div><div class="doc"><div class="markdown"><p>Given a String key and a String value, Add an entry to the MDC, and return the MDC instance.</p>
<p>If k is nil, the original MDC is returned.</p>
</div></div></div><div class="public anchor" id="var--remove-mdc"><h3>-remove-mdc</h3><div class="usage"><code>(-remove-mdc t k)</code></div><div class="doc"><div class="markdown"><p>Given a String key, remove the key-value entry in the MDC if the key is present And return the MDC instance.</p>
</div></div></div><div class="public anchor" id="var--set-mdc"><h3>-set-mdc</h3><div class="usage"><code>(-set-mdc t m)</code></div><div class="doc"><div class="markdown"><p>Given a map (of String keys and String values), Copy all key-values from the map to the MDC and return the MDC instance.</p>
</div></div></div></div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L66">view source</a></div></div><div class="public anchor" id="var-make-logger"><h3>make-logger</h3><div class="usage"><code>(make-logger logger-name)</code></div><div class="doc"><div class="markdown"><p>Returns a logger which satisfies the <a href="io.pedestal.log.html#var-LoggerSource">LoggerSource</a> protocol.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L199">view source</a></div></div><div class="public anchor" id="var-maybe-init-java-util-log"><h3>maybe-init-java-util-log</h3><div class="usage"><code>(maybe-init-java-util-log)</code></div><div class="doc"><div class="markdown"><p>Invoke this once when starting your application to redirect all java.util.logging log messages to SLF4J. The current project’s dependencies must include org.slf4j/jul-to-slf4j.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L279">view source</a></div></div><div class="public anchor" id="var-mdc-context-key"><h3>mdc-context-key</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The key to use when formatting <a href="io.pedestal.log.html#var-*mdc-context*">*mdc-context*</a> for storage into the MDC (via <a href="io.pedestal.log.html#var--put-mdc">-put-mdc</a>).  io.pedestal.log uses only this single key of the underlying LoggingMDC implementation.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L310">view source</a></div></div><div class="public anchor" id="var-override-logger"><h3>override-logger</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Override of the default logger source, from symbol property <code>io.pedestal.log.overrideLogger</code> or environment variable <code>PEDESTAL_LOGGER</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L185">view source</a></div></div><div class="public anchor" id="var-spy"><h3>spy</h3><h4 class="type">macro</h4><div class="usage"><code>(spy expr)</code></div><div class="doc"><div class="markdown"><p>Logs expr and its value at DEBUG level, returns value.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L267">view source</a></div></div><div class="public anchor" id="var-trace"><h3>trace</h3><h4 class="type">macro</h4><div class="usage"><code>(trace &amp; keyvals)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L257">view source</a></div></div><div class="public anchor" id="var-warn"><h3>warn</h3><h4 class="type">macro</h4><div class="usage"><code>(warn &amp; keyvals)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L263">view source</a></div></div><div class="public anchor" id="var-with-context"><h3>with-context</h3><h4 class="type">macro</h4><div class="usage"><code>(with-context ctx-map &amp; body)</code></div><div class="doc"><div class="markdown"><p>Given a map of keys/values/options and a body, Set the map into the MDC via the <em>mdc-context</em> binding.</p>
<p>The MDC used defaults to the SLF4J MDC unless the :io.pedestal.log/mdc option is specified (see Options).</p>
<p>By default, the map is formatted into a string value and stored under the “io.pedestal” key.</p>
<p>Caveats: SLF4J MDC, only maintains thread-local bindings, users are encouraged to use app-specific MDC implementations when needed.</p>
<p>Since SLF4J MDC manages data on a per-thread basis, false information may be contained in the MDC if threads are recycled. Refer to the slf4j <a href="https://logback.qos.ch/manual/mdc.html#autoMDC">docs</a> for more information.</p>
<p>Options:</p>
<table>
<thead>
<tr><th>Key         </th><th> Value          </th><th> Description</th></tr>
</thead>
<tbody>
<tr><td>::formatter </td><td> Function       </td><td> Converts map to loggable value (a String), default via <a href="io.pedestal.log.html#var-default-formatter">default-formatter</a> is <code>pr-str</code></td></tr>
<tr><td>::mdc       </td><td> <a href="io.pedestal.log.html#var-LoggingMDC">LoggingMDC</a> </td><td> Defaults to the SLFJ MDC.</td></tr>
</tbody>
</table>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-alpha-5/log/src/io/pedestal/log.clj#L331">view source</a></div></div></div></body></html>