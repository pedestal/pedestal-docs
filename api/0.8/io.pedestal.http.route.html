<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>io.pedestal.http.route documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">io.pedestal libraries</span> <span class="project-version">0.8.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pedestal</span></div></div></li><li class="depth-3 branch"><a href="io.pedestal.connector.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>connector</span></div></a></li><li class="depth-3 branch"><a href="io.pedestal.environment.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>environment</span></div></a></li><li class="depth-3"><a href="io.pedestal.http.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.body-params.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>body-params</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.container.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>container</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.content-negotiation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>content-negotiation</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.cors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cors</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.csrf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>csrf</span></div></a></li><li class="depth-4"><a href="io.pedestal.http.http-kit.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>http-kit</span></div></a></li><li class="depth-5"><a href="io.pedestal.http.http-kit.response.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>response</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>impl</span></div></div></li><li class="depth-5"><a href="io.pedestal.http.impl.servlet-interceptor.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>servlet-interceptor</span></div></a></li><li class="depth-6"><a href="io.pedestal.http.impl.servlet-interceptor.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-4"><a href="io.pedestal.http.jetty.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>jetty</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.jetty.container.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>container</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.jetty.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-5"><a href="io.pedestal.http.jetty.util.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>util</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.params.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>params</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>request</span></div></div></li><li class="depth-5"><a href="io.pedestal.http.request.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.response.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>response</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.ring-middlewares.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ring-middlewares</span></div></a></li><li class="depth-4 current"><a href="io.pedestal.http.route.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>route</span></div></a></li><li class="depth-5"><a href="io.pedestal.http.route.definition.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>definition</span></div></a></li><li class="depth-6 branch"><a href="io.pedestal.http.route.definition.table.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>table</span></div></a></li><li class="depth-6 branch"><a href="io.pedestal.http.route.definition.terse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>terse</span></div></a></li><li class="depth-6"><a href="io.pedestal.http.route.definition.verbose.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>verbose</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.route.linear-search.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>linear-search</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.route.map-tree.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map-tree</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.route.path.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>path</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.route.prefix-tree.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>prefix-tree</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.route.sawtooth.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sawtooth</span></div></a></li><li class="depth-5 branch"><a href="io.pedestal.http.route.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-5"><a href="io.pedestal.http.route.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.secure-headers.html"><div class="inner"><span class="tree" style="top: -362px;"><span class="top" style="height: 371px;"></span><span class="bottom"></span></span><span>secure-headers</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.servlet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>servlet</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.http.sse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sse</span></div></a></li><li class="depth-4"><a href="io.pedestal.http.tracing.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tracing</span></div></a></li><li class="depth-3"><a href="io.pedestal.interceptor.html"><div class="inner"><span class="tree" style="top: -1137px;"><span class="top" style="height: 1146px;"></span><span class="bottom"></span></span><span>interceptor</span></div></a></li><li class="depth-4"><a href="io.pedestal.interceptor.chain.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chain</span></div></a></li><li class="depth-5"><a href="io.pedestal.interceptor.chain.debug.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>debug</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.interceptor.error.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>error</span></div></a></li><li class="depth-4"><a href="io.pedestal.interceptor.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li><li class="depth-3 branch"><a href="io.pedestal.log.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>log</span></div></a></li><li class="depth-3"><a href="io.pedestal.metrics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metrics</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.metrics.otel.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>otel</span></div></a></li><li class="depth-4"><a href="io.pedestal.metrics.spi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spi</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>service</span></div></div></li><li class="depth-4 branch"><a href="io.pedestal.service.dev.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dev</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.service.interceptors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>interceptors</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.service.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-4 branch"><a href="io.pedestal.service.resources.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>resources</span></div></a></li><li class="depth-4"><a href="io.pedestal.service.test.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>test</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>telemetry</span></div></div></li><li class="depth-4"><a href="io.pedestal.telemetry.otel-global-init.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>otel-global-init</span></div></a></li><li class="depth-3 branch"><a href="io.pedestal.test.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>test</span></div></a></li><li class="depth-3"><a href="io.pedestal.tracing.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tracing</span></div></a></li><li class="depth-4"><a href="io.pedestal.tracing.spi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spi</span></div></a></li><li class="depth-3"><a href="io.pedestal.websocket.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>websocket</span></div></a></li><li class="depth-4"><a href="io.pedestal.websocket.specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>specs</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="io.pedestal.http.route.html#var-*print-routing-table*"><div class="inner"><span>*print-routing-table*</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-decode-query-part"><div class="inner"><span>decode-query-part</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-encode-query-part"><div class="inner"><span>encode-query-part</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-expand-routes"><div class="inner"><span>expand-routes</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-ExpandableRoutes"><div class="inner"><span>ExpandableRoutes</span></div></a></li><li class="depth-2"><a href="io.pedestal.http.route.html#var--expand-routes"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>-expand-routes</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-form-action-for-routes"><div class="inner"><span>form-action-for-routes</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-is-routing-table.3F"><div class="inner"><span>is-routing-table?</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-method-param"><div class="inner"><span>method-param</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-parse-param-map"><div class="inner"><span>parse-param-map</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-parse-path-params"><div class="inner"><span>parse-path-params</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-parse-query-params"><div class="inner"><span>parse-query-params</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-parse-query-string"><div class="inner"><span>parse-query-string</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-path-params-decoder"><div class="inner"><span>path-params-decoder</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-print-routes"><div class="inner"><span>print-routes</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-query-params"><div class="inner"><span>query-params</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-router"><div class="inner"><span>router</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-router-implementations"><div class="inner"><span>router-implementations</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-routes-from"><div class="inner"><span>routes-from</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-try-routing-for"><div class="inner"><span>try-routing-for</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-url-for"><div class="inner"><span>url-for</span></div></a></li><li class="depth-1"><a href="io.pedestal.http.route.html#var-url-for-routes"><div class="inner"><span>url-for-routes</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">io.pedestal.http.route</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-*print-routing-table*"><h3>*print-routing-table*</h3><h4 class="dynamic">dynamic</h4><h4 class="added">added in 0.7.0</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>If true, then the routing table is printed to the console at startup, and when it changes.</p>
<p>Defaults to <a href="io.pedestal.environment.html#var-dev-mode.3F">dev-mode?</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L39">view source</a></div></div><div class="public anchor" id="var-decode-query-part"><h3>decode-query-part</h3><div class="usage"><code>(decode-query-part string)</code></div><div class="doc"><div class="markdown"><p>Decodes one key or value of URL-encoded UTF-8 characters in a URL query string.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L53">view source</a></div></div><div class="public anchor" id="var-encode-query-part"><h3>encode-query-part</h3><div class="usage"><code>(encode-query-part string)</code></div><div class="doc"><div class="markdown"><p>Encodes one key or value for a UTF-8 URL-encoded query string. Encodes space as +.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L59">view source</a></div></div><div class="public anchor" id="var-expand-routes"><h3>expand-routes</h3><div class="usage"><code>(expand-routes &amp; route-specs)</code></div><div class="doc"><div class="markdown"><p>Converts any number of route fragments into a fully expanded routing table.</p>
<p>Route fragments are created by route definitions (such as <a href="io.pedestal.http.route.definition.table.html#var-table-routes">table-routes</a>), or when data structures are implicitly converted (via the <a href="io.pedestal.http.route.html#var-ExpandableRoutes">ExpandableRoutes</a> protocol).</p>
<p>Returns a wrapper object with a :routes key; the routes themselves are verified to have unique route names (or an exception is thrown).</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L423">view source</a></div></div><div class="public anchor" id="var-ExpandableRoutes"><h3>ExpandableRoutes</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>A protocol extended onto types that can be used to convert instances into a <a href="io.pedestal.http.route.types.html#var-RoutingFragment">RoutingFragment</a>.  The fragments are combined into a routing table by <a href="io.pedestal.http.route.html#var-expand-routes">expand-routes</a>.</p>
<p>Built-in implementations map vectors to <a href="io.pedestal.http.route.definition.terse.html#var-terse-routes">terse-routes</a>, sets to <a href="io.pedestal.http.route.definition.table.html#var-table-routes">table-routes</a>, and maps to <a href="io.pedestal.http.route.definition.terse.html#var-map-routes-.3Evec-routes">map-routes-&gt;vec-routes</a>.</p>
</div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var--expand-routes"><h3>-expand-routes</h3><div class="usage"><code>(-expand-routes expandable-route-spec)</code></div><div class="doc"><div class="markdown"><p>Generate and return a <a href="io.pedestal.http.route.types.html#var-RoutingFragment">RoutingFragment</a> from the data.</p>
</div></div></div></div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L388">view source</a></div></div><div class="public anchor" id="var-form-action-for-routes"><h3>form-action-for-routes</h3><div class="usage"><code>(form-action-for-routes routing-table &amp; default-options)</code></div><div class="doc"><div class="markdown"><p>Like ‘url-for-routes’ but the returned function returns a map with the keys :action, the URL string; and :method, the HTTP verb as a lower-case string. Also, the :method-param is :_method by default, so HTTP verbs other than GET and POST will be converted to POST with the actual verb in the query string.</p>
<p>The routing-table is obtained from <a href="io.pedestal.http.route.html#var-expand-routes">expand-routes</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L590">view source</a></div></div><div class="public anchor" id="var-is-routing-table.3F"><h3>is-routing-table?</h3><h4 class="added">added in 0.8.0</h4><div class="usage"><code>(is-routing-table? routing-table)</code></div><div class="doc"><div class="markdown"><p>Returns true if the value is a routing table (as returned from <a href="io.pedestal.http.route.html#var-expand-routes">expand-routes</a>).</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L33">view source</a></div></div><div class="public anchor" id="var-method-param"><h3>method-param</h3><div class="usage"><code>(method-param)</code><code>(method-param query-param-or-param-path)</code></div><div class="doc"><div class="markdown"><p>Returns an interceptor that smuggles HTTP verbs through a value in the request. This interceptor must come <em>after</em> the interceptor that populates that value (e.g. query-params or body-params).</p>
<p>query-param-or-param-path may be one of two things:</p>
<ul>
<li>The parameter inside :query-params where the verb will reside.</li>
<li>A complete path to a value elsewhere in the request, such as <a href=":query-params :_method">:query-params :_method</a> or <a href=":body-params &quot;_method&quot;">:body-params “_method”</a></li>
</ul>
<p>The path <a href=":query-params :_method">:query-params :_method</a> is used by default.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L566">view source</a></div></div><div class="public anchor" id="var-parse-param-map"><h3>parse-param-map</h3><div class="usage"><code>(parse-param-map m)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L140">view source</a></div></div><div class="public anchor" id="var-parse-path-params"><h3>parse-path-params</h3><div class="usage"><code>(parse-path-params request)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L143">view source</a></div></div><div class="public anchor" id="var-parse-query-params"><h3>parse-query-params</h3><div class="usage"><code>(parse-query-params request)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L131">view source</a></div></div><div class="public anchor" id="var-parse-query-string"><h3>parse-query-string</h3><div class="usage"><code>(parse-query-string string &amp; options)</code></div><div class="doc"><div class="markdown"><p>Parses URL query string (not including the leading ‘?’) into1 a map. options are key-value pairs, valid options are:</p>
<p>:key-fn    Function to call on parameter keys (after URL decoding), returns key for the map, default converts to a keyword.</p>
<p>:value-fn  Function to call on the key (after passing through key-fn) and parameter value (after URL decoding), returns value for the map, default does nothing.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L74">view source</a></div></div><div class="public anchor" id="var-path-params-decoder"><h3>path-params-decoder</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>An Interceptor which URL-decodes path parameters. The path parameters are assoc’d into the :request map with key :path-parameters.</p>
<p>This will only operate once per interceptor chain execution, even if it appears multiple times; this prevents failures in existing applications that upgrade to Pedestal 0.6.0, as prior releases incorrectly failed to decode path parameters. Existing applications that upgrade may have this interceptor in some routes which will do nothing (since the path parameters will already have been decoded).</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L541">view source</a></div></div><div class="public anchor" id="var-print-routes"><h3>print-routes</h3><div class="usage"><code>(print-routes routing-table)</code></div><div class="doc"><div class="markdown"><p>Prints a routing-table (from <a href="io.pedestal.http.route.html#var-expand-routes">expand-routes</a>) in an easier to read format.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L615">view source</a></div></div><div class="public anchor" id="var-query-params"><h3>query-params</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>An interceptor which parses query-string parameters from an HTTP request into a map. Keys in the map are query-string parameter names, as keywords, and values are strings. The map is assoc’d into the request with key :query-params.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L528">view source</a></div></div><div class="public anchor" id="var-router"><h3>router</h3><div class="usage"><code>(router routing-table)</code><code>(router routing-table router-type)</code></div><div class="doc"><div class="markdown"><p>Given the expanded routing table and, optionally, what kind of router to construct, creates and returns a router interceptor.</p>
<p>router-type may be a keyword identifying a known implementation (see <a href="io.pedestal.http.route.html#var-router-implementations">router-implementations</a>), or a function that accepts a seq of route maps, and returns a router function.</p>
<p>A router function will be passed the request map, and return nil, or a matching route.</p>
<p>The default router type is :sawtooth.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L494">view source</a></div></div><div class="public anchor" id="var-router-implementations"><h3>router-implementations</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Maps from the common router implementations (:map-tree, :prefix-tree, :sawtooth, or :linear-search) to a router constructor function (which accepts a routing table, and returns a Router instance).</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L486">view source</a></div></div><div class="public anchor" id="var-routes-from"><h3>routes-from</h3><h4 class="type">macro</h4><h4 class="added">added in 0.7.0</h4><div class="usage"><code>(routes-from &amp; route-exprs)</code></div><div class="doc"><div class="markdown"><p>Wraps around one or more expressions that each provide a <a href="io.pedestal.http.route.types.html#var-RoutingFragment">RoutingFragment</a>.</p>
<p>In production mode (the default) evaluates to a call to <a href="io.pedestal.http.route.html#var-expand-routes">expand-routes</a>.</p>
<p>In development mode (see <a href="io.pedestal.environment.html#var-dev-mode.3F">dev-mode?</a>), evaluates to a function that, when invoked, returns the expressions passed to <a href="io.pedestal.http.route.html#var-expand-routes">expand-routes</a>; this is to support a REPL workflow. This works in combination with the extension of <a href="null">RouterSpecification</a> onto Fn, which requires that the returned routing specification be expanded.</p>
<p>Further, when the expression is a non-local symbol, it is assumed to identify a Var holding the unexpanded routing specification; to avoid capturing the Var’s value, the expansion de-references the named Var before passing it to expand-routes.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L643">view source</a></div></div><div class="public anchor" id="var-try-routing-for"><h3>try-routing-for</h3><div class="usage"><code>(try-routing-for routing-table path verb)</code><code>(try-routing-for routing-table router-type path verb)</code></div><div class="doc"><div class="markdown"><p>Used for testing; constructs a router from the routing-table and router-type and performs routing on the provided path and verb (e.g., :get or :post).</p>
<p>Uses :sawtooth as the default router, if unspecified; this should match the configuration in the application’s service map.</p>
<p>Returns the matched route (a map from the routing table), or nil if routing was unsuccessful.</p>
<p>The matched route has an extra key, :path-params, a map of keyword to string.</p>
<p>The routing-table is obtained from <a href="io.pedestal.http.route.html#var-expand-routes">expand-routes</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L620">view source</a></div></div><div class="public anchor" id="var-url-for"><h3>url-for</h3><div class="usage"><code>(url-for route-name &amp; options)</code></div><div class="doc"><div class="markdown"><p>Used by an invoked interceptor (including a handler function) to generate URLs based on a known route name (from the routing specification), and additional data.</p>
<p>This uses a hidden dynamic variable, so it can only be invoked from request processing threads, and only <em>after</em> the routing interceptor has routed the request.</p>
<p>The available options are as described in <a href="io.pedestal.http.route.html#var-url-for-routes">url-for-routes</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L371">view source</a></div></div><div class="public anchor" id="var-url-for-routes"><h3>url-for-routes</h3><div class="usage"><code>(url-for-routes routing-table &amp; default-options)</code></div><div class="doc"><div class="markdown"><p>Returns a function that generates URL routes (as strings) from the routing table. The returned function has the signature:</p>
<pre><code>    [route-name &amp; options]
</code></pre>
<p>Where <code>options</code> are key-value pairs:</p>
<table>
<thead>
<tr><th>Key           </th><th> Value           </th><th> Description</th></tr>
</thead>
<tbody>
<tr><td>:app-name     </td><td> String          </td><td> Application name specified for this route</td></tr>
<tr><td>:request      </td><td> Map             </td><td> The original request; it will be merged into the generated link</td></tr>
<tr><td>:params       </td><td> Map             </td><td> A map of all parameters; any params not used as path parameters will be added to the query string</td></tr>
<tr><td>:path-params  </td><td> Map             </td><td> A map of path parameters only</td></tr>
<tr><td>:strict-path-params? </td><td> Boolean  </td><td> When true will throw an exception if all path-params aren’t fulfilled for the URL</td></tr>
<tr><td>:query-params </td><td> Map             </td><td> A map of query-string parameters only</td></tr>
<tr><td>:method-param </td><td> Keyword         </td><td> Names the query-string parameter in which to place the HTTP method name (used when not :get or :post)</td></tr>
<tr><td>:context      </td><td> varied          </td><td> String, function that returns a string, or symbol that resolves to a function; specifies root context for the URL</td></tr>
<tr><td>:fragment     </td><td> String          </td><td> The fragment part of the URL</td></tr>
<tr><td>:absolute?    </td><td> Boolean         </td><td> True to force an absolute URL</td></tr>
<tr><td>:scheme       </td><td> :http, :https   </td><td> Used to override the scheme portion of the URL</td></tr>
<tr><td>:host         </td><td> String          </td><td> Used to override the host portion of the URL</td></tr>
<tr><td>:port         </td><td> Integer         </td><td> Used to override the port in the URL</td></tr>
</tbody>
</table>
<p>In addition, you may supply default-options to the ‘url-for-routes’ function, which are merged with the options supplied to the returned function.</p>
</div></div><div class="src-link"><a href="https://github.com/pedestal/pedestal/blob/0.8.0-SNAPSHOT/route/src/io/pedestal/http/route.clj#L321">view source</a></div></div></div></body></html>